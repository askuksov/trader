<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="726px" preserveAspectRatio="none" style="width:1263px;height:726px;background:#FFFFFF;" version="1.1" viewBox="0 0 1263 726" width="1263px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="364.0703" style="stroke:#000000;stroke-width:1.5;" width="1001.9644" x="144.1987" y="206.8281"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="19.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="23" x2="23" y1="81.2969" y2="646.1641"/></g><g><title>StopController</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="207.6992" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="211.1987" x2="211.1987" y1="81.2969" y2="646.1641"/></g><g><title>CampaignManager</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="392.4473" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="396.2104" x2="396.2104" y1="81.2969" y2="646.1641"/></g><g><title>StrategyOrchestrator</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="602.3828" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="605.9463" x2="605.9463" y1="81.2969" y2="646.1641"/></g><g><title>PositionManager</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="818.1074" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="821.9199" x2="821.9199" y1="81.2969" y2="646.1641"/></g><g><title>ExchangeConnector</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="1054.7324" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1058.3018" x2="1058.3018" y1="81.2969" y2="646.1641"/></g><g><title>StopControlsDB</title><rect fill="#000000" fill-opacity="0.00000" height="564.8672" width="8" x="1200.3735" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1204.1631" x2="1204.1631" y1="81.2969" y2="646.1641"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="77.9951">User</text><ellipse cx="23.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="658.1592">User</text><ellipse cx="23.9551" cy="669.9609" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,677.9609 L23.9551,704.9609 M10.9551,685.9609 L36.9551,685.9609 M23.9551,704.9609 L10.9551,719.9609 M23.9551,704.9609 L36.9551,719.9609" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="StopController"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.001" x="154.1987" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.001" x="161.1987" y="69.9951">StopController</text></g><g class="participant participant-tail" data-participant="StopController"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.001" x="154.1987" y="645.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.001" x="161.1987" y="665.1592">StopController</text></g><g class="participant participant-head" data-participant="CampaignManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.4736" x="323.2104" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.4736" x="330.2104" y="69.9951">CampaignManager</text></g><g class="participant participant-tail" data-participant="CampaignManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.4736" x="323.2104" y="645.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.4736" x="330.2104" y="665.1592">CampaignManager</text></g><g class="participant participant-head" data-participant="StrategyOrchestrator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.873" x="524.9463" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.873" x="531.9463" y="69.9951">StrategyOrchestrator</text></g><g class="participant participant-tail" data-participant="StrategyOrchestrator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.873" x="524.9463" y="645.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.873" x="531.9463" y="665.1592">StrategyOrchestrator</text></g><g class="participant participant-head" data-participant="PositionManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.375" x="756.9199" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.375" x="763.9199" y="69.9951">PositionManager</text></g><g class="participant participant-tail" data-participant="PositionManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.375" x="756.9199" y="645.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.375" x="763.9199" y="665.1592">PositionManager</text></g><g class="participant participant-head" data-participant="ExchangeConnector"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.8613" x="981.3018" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8613" x="988.3018" y="69.9951">ExchangeConnector</text></g><g class="participant participant-tail" data-participant="ExchangeConnector"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.8613" x="981.3018" y="645.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8613" x="988.3018" y="665.1592">ExchangeConnector</text></g><g class="participant participant-head" data-participant="StopControlsDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.4209" x="1146.1631" y="77.9951">StopControlsDB</text><path d="M1186.3735,29 C1186.3735,19 1204.3735,19 1204.3735,19 C1204.3735,19 1222.3735,19 1222.3735,29 L1222.3735,55 C1222.3735,65 1204.3735,65 1204.3735,65 C1204.3735,65 1186.3735,65 1186.3735,55 L1186.3735,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1186.3735,29 C1186.3735,39 1204.3735,39 1204.3735,39 C1204.3735,39 1222.3735,39 1222.3735,29" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="StopControlsDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.4209" x="1146.1631" y="658.1592">StopControlsDB</text><path d="M1186.3735,671.4609 C1186.3735,661.4609 1204.3735,661.4609 1204.3735,661.4609 C1204.3735,661.4609 1222.3735,661.4609 1222.3735,671.4609 L1222.3735,697.4609 C1222.3735,707.4609 1204.3735,707.4609 1204.3735,707.4609 C1204.3735,707.4609 1186.3735,707.4609 1186.3735,697.4609 L1186.3735,671.4609" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1186.3735,671.4609 C1186.3735,681.4609 1204.3735,681.4609 1204.3735,681.4609 C1204.3735,681.4609 1222.3735,681.4609 1222.3735,671.4609" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="User" data-participant-2="StopController"><polygon fill="#181818" points="199.6992,118.9961,209.6992,122.9961,199.6992,126.9961,203.6992,122.9961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="205.6992" y1="122.9961" y2="122.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.665" x="30.9551" y="117.9302">Initiate Stop Request</text></g><path d="M216,96.2969 L216,136.2969 L482,136.2969 L482,106.2969 L472,96.2969 L216,96.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M472,96.2969 L472,106.2969 L482,106.2969 L472,96.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.9624" x="222" y="113.3638">Scope: Campaign/Strategy/Key/Pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.6543" x="222" y="128.4966">Type: Graceful/Emergency/Scheduled</text><g class="message" data-participant-1="StopController" data-participant-2="StopControlsDB"><polygon fill="#181818" points="1192.3735,158.6953,1202.3735,162.6953,1192.3735,166.6953,1196.3735,162.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.6992" x2="1198.3735" y1="162.6953" y2="162.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.439" x="218.6992" y="157.6294">Create Stop Control Record</text></g><g class="message" data-participant-1="StopController" data-participant-2="CampaignManager"><polygon fill="#181818" points="384.4473,187.8281,394.4473,191.8281,384.4473,195.8281,388.4473,191.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.6992" x2="390.4473" y1="191.8281" y2="191.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.748" x="218.6992" y="186.7622">Identify Affected Entities</text></g><path d="M144.1987,206.8281 L208.6416,206.8281 L208.6416,213.9609 L198.6416,223.9609 L144.1987,223.9609 L144.1987,206.8281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="364.0703" style="stroke:#000000;stroke-width:1.5;" width="1001.9644" x="144.1987" y="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="159.1987" y="219.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94.7407" x="223.6416" y="219.0386">[Graceful Stop]</text><g class="message" data-participant-1="CampaignManager" data-participant-2="StrategyOrchestrator"><polygon fill="#181818" points="594.3828,241.0938,604.3828,245.0938,594.3828,249.0938,598.3828,245.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="396.4473" x2="600.3828" y1="245.0938" y2="245.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.9355" x="403.4473" y="240.0278">Pause New Position Creation</text></g><g class="message" data-participant-1="StrategyOrchestrator" data-participant-2="PositionManager"><polygon fill="#181818" points="810.1074,270.2266,820.1074,274.2266,810.1074,278.2266,814.1074,274.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="606.3828" x2="816.1074" y1="274.2266" y2="274.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.7246" x="613.3828" y="269.1606">Complete Current Operations</text></g><g class="message" data-participant-1="PositionManager" data-participant-2="ExchangeConnector"><polygon fill="#181818" points="1046.7324,299.3594,1056.7324,303.3594,1046.7324,307.3594,1050.7324,303.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="822.1074" x2="1052.7324" y1="303.3594" y2="303.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8809" x="829.1074" y="298.2935">Allow Current Orders to Fill</text></g><g class="message" data-participant-1="PositionManager" data-participant-2="PositionManager"><line style="stroke:#181818;stroke-width:1;" x1="822.1074" x2="864.1074" y1="332.4922" y2="332.4922"/><line style="stroke:#181818;stroke-width:1;" x1="864.1074" x2="864.1074" y1="332.4922" y2="345.4922"/><line style="stroke:#181818;stroke-width:1;" x1="823.1074" x2="864.1074" y1="345.4922" y2="345.4922"/><polygon fill="#181818" points="833.1074,341.4922,823.1074,345.4922,833.1074,349.4922,829.1074,345.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.625" x="829.1074" y="327.4263">Close Positions at Take Profit Only</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="144.1987" x2="1146.1631" y1="354.4922" y2="354.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.2139" x="149.1987" y="364.7026">[Emergency Stop]</text><g class="message" data-participant-1="CampaignManager" data-participant-2="StrategyOrchestrator"><polygon fill="#181818" points="594.3828,385.4297,604.3828,389.4297,594.3828,393.4297,598.3828,389.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="396.4473" x2="600.3828" y1="389.4297" y2="389.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.5005" x="403.4473" y="384.3638">Immediate Strategy Halt</text></g><g class="message" data-participant-1="StrategyOrchestrator" data-participant-2="PositionManager"><polygon fill="#181818" points="810.1074,414.5625,820.1074,418.5625,810.1074,422.5625,814.1074,418.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="606.3828" x2="816.1074" y1="418.5625" y2="418.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.9302" x="613.3828" y="413.4966">Cancel All Pending Orders</text></g><g class="message" data-participant-1="PositionManager" data-participant-2="ExchangeConnector"><polygon fill="#181818" points="1046.7324,443.6953,1056.7324,447.6953,1046.7324,451.6953,1050.7324,447.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="822.1074" x2="1052.7324" y1="447.6953" y2="447.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.3242" x="829.1074" y="442.6294">Cancel Orders on Exchange</text></g><g class="message" data-participant-1="PositionManager" data-participant-2="ExchangeConnector"><polygon fill="#181818" points="1046.7324,472.8281,1056.7324,476.8281,1046.7324,480.8281,1050.7324,476.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="822.1074" x2="1052.7324" y1="476.8281" y2="476.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9512" x="829.1074" y="471.7622">Close Positions at Market Price</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="144.1987" x2="1146.1631" y1="485.8281" y2="485.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.0405" x="149.1987" y="496.0386">[Scheduled Stop]</text><g class="message" data-participant-1="StopController" data-participant-2="StopController"><line style="stroke:#181818;stroke-width:1;" x1="211.6992" x2="253.6992" y1="520.7656" y2="520.7656"/><line style="stroke:#181818;stroke-width:1;" x1="253.6992" x2="253.6992" y1="520.7656" y2="533.7656"/><line style="stroke:#181818;stroke-width:1;" x1="212.6992" x2="253.6992" y1="533.7656" y2="533.7656"/><polygon fill="#181818" points="222.6992,529.7656,212.6992,533.7656,222.6992,537.7656,218.6992,533.7656" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.0054" x="218.6992" y="515.6997">Wait for Scheduled Time</text></g><g class="message" data-participant-1="StopController" data-participant-2="CampaignManager"><polygon fill="#181818" points="384.4473,558.8984,394.4473,562.8984,384.4473,566.8984,388.4473,562.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.6992" x2="390.4473" y1="562.8984" y2="562.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1646" x="218.6992" y="557.8325">Execute Graceful Stop</text></g><g class="message" data-participant-1="CampaignManager" data-participant-2="StopControlsDB"><polygon fill="#181818" points="1192.3735,595.0313,1202.3735,599.0313,1192.3735,603.0313,1196.3735,599.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="396.4473" x2="1198.3735" y1="599.0313" y2="599.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3247" x="403.4473" y="593.9653">Update Stop Status</text></g><g class="message" data-participant-1="StopController" data-participant-2="User"><polygon fill="#181818" points="34.9551,624.1641,24.9551,628.1641,34.9551,632.1641,30.9551,628.1641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.9551" x2="210.6992" y1="628.1641" y2="628.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.7441" x="40.9551" y="623.0981">Confirm Stop Completion</text></g><!--SRC=[bPJ1Rjim38RlUWg-mE1x3WMwD6kBeMlGfDYPasX7g2nvb8pMRp_AiTt6DeRsPalaxuy_IQDEWU4v4gi6ELbj6_G93Yaqs-0J1-TcLrki6xILVq2FrIADCL7LFR8-KSmluJ9W7w9DDgmcxzxq2Nr5ybrF6KiPJFW78tt4YJVVbSgyyErgXhc1Uo_gGj1Vm1FzROL2-I0dRAjJKW077HhQJ5KK8tBnaxfYZvObvjZba5j6JMNhYbrDN97NNN6Giapho2Zo1hAkKfSCCogXbMynJKp3kR3fm6ObUMQlr6J89rjsS5sMOWiPsCbxiXILGfScp5vVu6S2Pw1bMpQmnrQi_KMlKrVEfFAGVLh9oLgp3afreMuSINtRbbbGuR4XxbMYoCp2iyAYpnkuTYwylWkm8OwG0lompgsBB35Sa6h6umYOu8WlSiAXjABfNITAYfn4JGtzicVtTKrccB3pFTn94xxa5tfDBfSCUvaYwwkXu4-xDIWCDadRnfZFAopDUa1-8LbGjfecewPv7utwxx3tA_WRnUrIQd_FFTgQLdCNixvx8zsAkPSpBIufjTgYoprxRioqPuU4gOqh-vL_7NbeVMcv7dUods1nuXy0]--></g></svg>